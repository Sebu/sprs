%\linespread{1.5}
\usepackage{setspace}
\onehalfspacing

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}            % use lmodern fonts
%\usepackage[light,math]{iwona}
%\usepackage{times}
%\usepackage{dsfont}
\setcounter{secnumdepth}{3}     % limit enumeration depth
\setcounter{tocdepth}{3}        % limit TOC depth
\usepackage{amsmath}            % math fonts
\usepackage{amssymb}            % math symbols
\usepackage{units}   
\usepackage{xcolor}
%\usepackage[automark]{scrpage2}
\usepackage{graphicx}
\usepackage{todo}

\usepackage{cite}
\usepackage{url}
\urlstyle{sf}

%\usepackage[clearempty]{titlesec}
%\usepackage{tikz}

%\usepackage{varioref}           % nice refs
%TODO: REMOVE BEFORRE PRNIT
\usepackage[pdftex]{hyperref}
\usepackage{prettyref}
\newrefformat{eq}{Eqn.~\textup{(\ref{#1})}}
\newrefformat{tab}{Table~\ref{#1}}
\newrefformat{alg}{Algorithm~\ref{#1}}
\newrefformat{fig}{Figure~\ref{#1}}
\newrefformat{chp}{Chapter~\ref{#1}}




% ALGORITHMS
\usepackage[chapter]{algorithm}
\usepackage{algorithmic}
%\numberwithin{algorithm}{chapter} 

% LISTINGS
\usepackage{listings}
\definecolor{body}{rgb}{.8,.9,1.0}
\definecolor{keyword}{rgb}{0.5,0.5,0}
\lstloadlanguages{C,C++,Matlab}
\lstset{
%  language=C++,
  frame=tb,
  numbers=left,
  numberstyle=\tiny,
%  basicstyle=\small,
  basicstyle=\scriptsize,
%  basicstyle=\footnotesize,
%  backgroundcolor=\color{body},
%  keywordstyle=\color{keyword},
  commentstyle=\color{blue},
  stringstyle=\color{green},  
  morecomment=[s][\color{blue}]{/*}{*/}
}

% use nice footnote indentation
\deffootnote[1em]{1em}{1em}{\textsuperscript{\thefootnotemark}\,}

%\usepackage[Lenny]{fncychap}
%\ChNumVar{\Huge} 
%\ChTitleVar{\Huge\sf}
%\ChRuleWidth{0.2pt} \ChNameUpperCase

\colorlet{chapter}{black!75}
\addtokomafont{chapter}{\color{chapter}}


\addtokomafont{chapter}{\color{chapter}} 
\makeatletter% siehe De-TeX-FAQ 
\renewcommand*{\chapterformat}{% 
  \begingroup% damit \unitlength-Ãnderung lokal bleibt 
    \setlength{\unitlength}{1mm}% 
    \begin{picture}(20,40)(0,5) 
      \setlength{\fboxsep}{0pt} 
      %\put(0,0){\framebox(20,40){}}% 
      %\put(0,20){\makebox(20,20){\rule{20\unitlength}{20\unitlength}}}% 
      \put(20,15){\line(1,0){\dimexpr 
          \textwidth-20\unitlength\relax\@gobble}}% 
      \put(0,0){\makebox(20,20)[r]{% 
          \fontsize{28\unitlength}{28\unitlength}\selectfont\thechapter 
          \kern-.04em% Ziffer in der Zeichenzelle nach rechts schieben 
        }}% 
      \put(20,15){\makebox(\dimexpr 
          \textwidth-20\unitlength\relax\@gobble,\ht\strutbox\@gobble)[l]{% 
            \ \normalsize\color{black}\chapapp~\thechapter\autodot 
          }}% 
    \end{picture} % <-- Leerzeichen ist hier beabsichtigt! 
  \endgroup 
} 

\makeatother% siehe \makeatletter 
% page header & footer
\usepackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}
%\fancyhead[EL]{\thepage}% gerade Seiten, links
%\fancyhead[ER]{\leftmark}% gerade Seiten, rechts
%\fancyhead[OL]{\rightmark}% ungerade Seiten, links
%\fancyhead[OR]{\thepage}% ungerade Seiten, rechts
\fancypagestyle{plain}{%
\fancyhf{}
\fancyhead[EL]{\thepage}% gerade Seiten, links
\fancyhead[ER]{\leftmark}% gerade Seiten, rechts
\fancyhead[OL]{\rightmark}% ungerade Seiten, links
\fancyhead[OR]{\thepage}% ungerade Seiten, rechts

}
\renewcommand{\sectionmark}[1]{
\markboth{\thesection{} #1}{\thesection{} #1}
}
\renewcommand{\subsectionmark}[1]{
\markright{\thesubsection{} #1}
}



% commands
% Olga's matrix and vector definitions
\renewcommand{\vec}[1]{\boldsymbol{\mathrm{#1}}}
\newcommand{\mat}[1]{\boldsymbol{\mathrm{#1}}}
\let\set=\mathcal
\let\func=\mathrm

% Create a nice looking argmin operator with a
% small space between arg and min
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\newcommand{\trainDL}{Mairal2010}





